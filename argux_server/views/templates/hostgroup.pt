<!DOCTYPE html>
<html metal:use-macro="load: main.pt"
    tal:define="global argux_parent_route 'host_overview_default'">

<metal:slot metal:fill-slot="head">
    <script type="text/javascript">
        var ARGUX_BASE="${request.application_url}";
        var CSRF_TOKEN="${request.session.get_csrf_token()}";
        var HOST_GROUP="${host_group}";
        var VIEW_TYPE="${view_opts.type}";
        var VIEW_SORT="${view_opts.sort}";
        var ACTION="${action}";
    </script>
</metal:slot>

<div metal:fill-slot="custom-js">
    <script src="${request.static_url('argux_server:static/js/hostgroup.js')}"></script>
</div>

<div metal:fill-slot="content">
    <div class="page-header">
      <div class="pull-right">
          <div class="btn-group btn-group-sm" role="group" aria-label="...">
            <button type="button"
                tal:attributes="class 'btn btn-default btn-bookmark active' if bookmarked==True else 'btn btn-default btn-bookmark'"
                class="btn btn-default btn-bookmark"
                data-bookmark="${bookmark}">
                <span class="glyphicon glyphicon-bookmark"></span>
            </button>
          </div>
          <div class="btn-group btn-group-sm" role="group" aria-label="...">
            <button type="button" class="btn btn-default active hostlist-sort hostlist-sort-asc" data-direction="asc">
                <span class="glyphicon glyphicon-sort-by-alphabet"></span>
            </button>
            <button type="button" class="btn btn-default hostlist-sort hostlist-sort-desc" data-direction="desc">
                <span class="glyphicon glyphicon-sort-by-alphabet-alt"></span>
            </button>
          </div>
          <div class="btn-group btn-group-sm" role="group" aria-label="...">
            <button type="button" class="btn btn-default hostlist-view hostlist-view-list ${view_opts.buttons.list.state}" data-view="list">
                <span class="glyphicon glyphicon-th-list"></span>
            </button>
            <button type="button" class="btn btn-default hostlist-view hostlist-view-grid ${view_opts.buttons.grid.state}" data-view="grid">
                <span class="glyphicon glyphicon-th"></span>
            </button>
          </div>
      </div>
      <h3>Hostgroup <small>${host_group}</small></h3>
    </div>
    <ol class="breadcrumb">
      <li class="dropdown"><a href="/hosts/groups"><span class="glyphicon glyphicon-list"></span></a></li>
      <li class="active">${host_group}</li>
    </ol>
    <ul class="nav nav-pills nav-xs">
      <li tal:define="item_l ('Hosts', 'Alerts')"
          tal:repeat="item ('hosts', 'alerts')"
          tal:attributes="class 'active' if item==action else nothing">
        <a tal:attributes="href request.application_url+'/hosts/groups/'+host_group+'/'+item">
            <span tal:content="item_l[repeat.item.index]">
            <span tal:condition="item=='alerts'"
                  class="badge" id="alert_count"></span>
        </a>
        <span tal:condition="action==item">
            <span tal:define="global tmpl load: ./hostgroup/${item}.pt"/>
        </span>
      </li>
    </ul>
    <div metal:extend-macro='tmpl'></div>
</div>

</html>

