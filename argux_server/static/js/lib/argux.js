var argux={VERSION:"0.0.1"};rest={CallType:{CREATE:"POST",READ:"GET",UPDATE:"POST",DELETE:"DELETE"},call:function(e){void 0===e.type&&(e.type=rest.CallType.READ),void 0===e.success&&(e.success=function(e){}),void 0===e.error&&(e.error=function(e){}),void 0===e.complete&&(e.complete=function(){}),void 0===e.data&&(e.data=""),$.ajax({url:e.url,type:e.type,headers:{"X-CSRF-Token":CSRF_TOKEN},dataType:"json",data:e.data,success:function(t){e.success(t)},error:function(t){e.error(t)},complete:function(){e.complete()}})}};var history_chart_config={type:"line",data:{datasets:[]},options:{responsive:!0,scales:{xAxes:[{type:"time",display:!0,time:{format:"YYYY-MM-DDTHH:mm:SS",displayFormats:{millisecond:"SSS [ms]",second:"HH:mm:ss",minute:"MM/DD HH:mm",hour:"YY/MM/DD HH:00",day:"YY/MM/DD",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},scaleLabel:{show:!0,labelString:"Date/Time"}}],yAxes:[{display:!0,ticks:{beginAtZero:!0,suggestedMin:0,suggestedMax:1,callback:function(e){return unit.symbol?""+Math.round(10*e)/10+" "+item_unit_prefix+unit.symbol:""+Math.round(10*e)/10}},scaleLabel:{show:!0}}]},elements:{line:{tension:0},point:{radius:1}}}},host_overview_chart_config={type:"doughnut",data:{datasets:[{data:[0,0,0,1],backgroundColor:["#419641","#f0ad4e","#c12e2a","#e0e0e0"]}],labels:["Okay","Warning","Critical","Unknown"]},options:{responsive:!0,legend:{display:!1}}};host={get_host_overview:function(e){void 0===e.complete_callback&&(e.complete_callback=function(){}),rest.call({url:ARGUX_BASE+"/rest/1.0/host",success:host._get_host_overview_success,error:host._get_host_overview_error,complete:e.complete_callback})},_get_host_overview_success:function(e){var t=0,s=[0,0,0,0];$("#hosts").empty(),$.each(e.hosts,function(e,o){$("#hosts").append('<tr><td><a href="'+ARGUX_BASE+"/host/"+o.name+'">'+o.name+'</a></td><td><a href="'+ARGUX_BASE+"/host/"+o.name+'/metrics">'+o.n_items+'</a></td><td><a href="'+ARGUX_BASE+"/host/"+o.name+'/alerts">'+o.active_alerts+"</a></td></tr>"),"crit"===o.severity?s[2]+=1:"warn"===o.severity?s[1]+=1:"info"===o.severity?s[3]+=1:s[0]+=1,t+=o.active_alerts}),host_overview_chart_config.data.datasets[0].data=s,t>0?$("#alert_count").text(t):$("#alert_count").text("")},_get_host_overview_error:function(e){},create:function(e){if(void 0===e.hostname)throw"Hostname argument missing";void 0===e.description?description="":description=e.description,void 0===e.addresses?addresses=[]:addresses=e.addresses,data={description:description,address:addresses},rest.call({url:ARGUX_BASE+"/rest/1.0/host/"+hostname,data:data,success:host._create_success,error:host._create_error})},_create_error:function(e){},_create_success:function(e){}},monitors={get_monitors:function(e){void 0===e.complete_callback&&(e.complete_callback=function(){}),rest.call({url:ARGUX_BASE+"/rest/1.0/monitor/"+e.type,success:monitors._get_monitors_success,complete:e.complete_callback})},_get_monitors_success:function(e){$("#monitors").empty(),$.each(e.monitors,function(e,t){options="",$.each(t.options,function(e,t){options+='<li><span style="font-weight: bold">'+e+":</span> "+t+"</li>"}),t.active?button='<a href="#"><span class="glyphicon glyphicon-pause"></span></a> ':button='<a href="#"><span class="glyphicon glyphicon-play"></span></a> ',$("#monitors").append('<tr class=""><td>'+button+'<a href="'+ARGUX_BASE+"/monitor/"+ARGUX_MONITOR_TYPE+"/"+t.host+"/"+t.address+'/edit">'+t.host+" ("+t.address+")</a></td><td><ul>"+options+"</ul></td></tr>")})}},user={};
